<!DOCTYPE html>
<html>
<body>
    <p id="deviceStatus">Test</p></br></br>
    <p id="activeWindow">Debug</p>

    <form id="layoutForm">
        <input type="text" id="appName" placeholder="Application Name">
        <input type="text" id="name" placeholder="Name">
        <input type="text" id="button1" placeholder="Button 1">
        <input type="text" id="button2" placeholder="Button 2">
        <input type="text" id="button3" placeholder="Button 3">
        <input type="text" id="button4" placeholder="Button 4">
        <input type="text" id="button5" placeholder="Button 5">
        <input type="text" id="button6" placeholder="Button 6">
        <input type="text" id="button7" placeholder="Button 7">
        <input type="text" id="button8" placeholder="Button 8">
        <input type="text" id="button9" placeholder="Button 9">
        <input type="text" id="button10" placeholder="Button 10">
        <input type="text" id="button11" placeholder="Button 11">
        <input type="text" id="button12" placeholder="Button 12">
        <input type="text" id="button13" placeholder="Button 13">
        <input type="text" id="button14" placeholder="Button 14">
        <input type="text" id="button15" placeholder="Button 15">
        <button type="submit">Save</button>
    </form>

    <script>
        const { ipcRenderer } = require('electron')
    
        ipcRenderer.on('activeWindow', (event, windowTitle) => {
            document.getElementById('activeWindow').innerText = `Active window: ${windowTitle}`;
        });
    
        ipcRenderer.on('deviceStatus', (event, deviceStatus) => {
            document.getElementById('deviceStatus').innerText = `Device status: ${deviceStatus}`;
        });

        document.getElementById('layoutForm').addEventListener('submit', function(event) {
            event.preventDefault(); // prevent form from being submitted normally
            let layout = {
                appName: document.getElementById('appName').value,
                layout: {
                    name: document.getElementById('name').value,
                    button1: document.getElementById('button1').value,
                    button2: document.getElementById('button2').value,
                    button3: document.getElementById('button3').value,
                    button4: document.getElementById('button4').value,
                    button5: document.getElementById('button5').value,
                    button6: document.getElementById('button6').value,
                    button7: document.getElementById('button7').value,
                    button8: document.getElementById('button8').value,
                    button9: document.getElementById('button9').value,
                    button10: document.getElementById('button10').value,
                    button11: document.getElementById('button11').value,
                    button12: document.getElementById('button12').value,
                    button13: document.getElementById('button13').value,
                    button14: document.getElementById('button14').value,
                    button15: document.getElementById('button15').value,
                }
            };
            ipcRenderer.send('saveLayout', layout);
        });

        ipcRenderer.on('loadLayout', (event, layout) => {
            document.getElementById('name').value = layout.name;
            document.getElementById('button1').value = layout.button1;
            document.getElementById('button2').value = layout.button2;
            document.getElementById('button3').value = layout.button3;
            document.getElementById('button4').value = layout.button4;
            document.getElementById('button5').value = layout.button5;
            document.getElementById('button6').value = layout.button6;
            document.getElementById('button7').value = layout.button7;
            document.getElementById('button8').value = layout.button8;
            document.getElementById('button9').value = layout.button9;
            document.getElementById('button10').value = layout.button10;
            document.getElementById('button11').value = layout.button11;
            document.getElementById('button12').value = layout.button12;
            document.getElementById('button13').value = layout.button13;
            document.getElementById('button14').value = layout.button14;
            document.getElementById('button15').value = layout.button15;
        });

    </script>
</body>
</html>